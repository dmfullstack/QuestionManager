<main class="container well">
  <div class="row">
    <div class="col-sm-12">
      <form class="form" ng-submit="submitSearch()">
        <uib-accordion close-others="false">
          <uib-accordion-group is-open="wordCheck.open">
            <uib-accordion-heading>
              Word based <small>(Add words to filter out the search data)</small> <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': wordCheck.open, 'glyphicon-chevron-right': !wordCheck.open}"></i>
            </uib-accordion-heading>
            <div class="form-group">
              <label for="whitelist">Must include</label>
              <tags-input ng-model="whitelist" name='whitelist' replace-spaces-with-dashes="false">
                <auto-complete source="variableList"></auto-complete>
              </tags-input>
              {{whitelist}}
            </div>
            <div class="form-group">
              <label for="blacklist">Must exclude</label>
              <tags-input ng-model="blacklist" name='blacklist' replace-spaces-with-dashes="false">
                <auto-complete source="variableList"></auto-complete>
              </tags-input>
            </div>
          </uib-accordion-group>
          <uib-accordion-group is-open="regexCheck.open">
            <uib-accordion-heading>
              Match Regular Expression <small>(Add patterns to filter out the search data)</small> <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': regexCheck.open, 'glyphicon-chevron-right': !regexCheck.open}"></i>
            </uib-accordion-heading>
            <div class="form-group">
              <div ng-repeat="item in regexPatterns">
                 <label>Pattern {{item.value}}</label>
                 <input type="text" ng-model="patterns[item.value]" name="pattern{{item.value}}"\>
                  <span ng-show="$last">
                    <a class="btn btn-primary btn-sm" ng-click="addField()"><b>+</b></a>
                  </span>
                  <span ng-show="$last && regexPatterns.length>1">
                    <a class="btn btn-danger btn-sm" ng-click="removeField()"><b>-</b></a>
                  </span>
              </div>
              {{patterns}}
            </div>
          </uib-accordion-group>
          <uib-accordion-group is-open="wikiCheck.open">
            <uib-accordion-heading>
              <span ng-click="refreshSlider(wikiCheck.open)">Wikidata PageViews <small>(in thousands)</small> <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': wikiCheck.open, 'glyphicon-chevron-right': !wikiCheck.open}"></i></span>
            </uib-accordion-heading>
            <div class="form-group">
              <rzslider rz-slider-model="wikiRange.min" rz-slider-high="wikiRange.max" rz-slider-options="wikiRange.options"></rzslider>
            </div>
          </uib-accordion-group>
          <uib-accordion-group is-open="gTrendsCheck.open">
            <uib-accordion-heading>
              <span ng-click="refreshSlider(gTrendsCheck.open)">Google Trends <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': gTrendsCheck.open, 'glyphicon-chevron-right': !gTrendsCheck.open}"></i></span>
            </uib-accordion-heading>
            <div class="form-group">
              <rzslider rz-slider-model="gTrends.min" rz-slider-high="gTrends.max" rz-slider-options="gTrends.options"></rzslider>
            </div>
          </uib-accordion-group>
          <uib-accordion-group is-open="usageCheck.open">
            <uib-accordion-heading>
              <span ng-click="refreshSlider(usageCheck.open)">Usage <small>(Number of times this question has been asked)</small><i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': usageCheck.open, 'glyphicon-chevron-right': !usageCheck.open}"></i><span>
            </uib-accordion-heading>
            <div class="form-group">
              <rzslider rz-slider-model="usage.min" rz-slider-high="usage.max" rz-slider-options="usage.options"></rzslider>
            </div>
          </uib-accordion-group>
          <uib-accordion-group is-open="correctCheck.open">
            <uib-accordion-heading>
              <span ng-click="refreshSlider(correctCheck.open)">Correctness <small>(Number of times the players have got the answer right)</small><i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': correctCheck.open, 'glyphicon-chevron-right': !correctCheck.open}"></i></span>
            </uib-accordion-heading>
            <div class="form-group">
              <rzslider rz-slider-model="correct.min" rz-slider-high="correct.max" rz-slider-options="correct.options"></rzslider>
            </div>
          </uib-accordion-group>
        </uib-accordion>
        <div class="checkbox">
          <label>
            <input type="checkbox" ng-model="searchIn.all" ng-click="changeSelection(0)">All
          </label>
          <label>
            <input type="checkbox" ng-model="searchIn.ques" ng-click="changeSelection(1)">Questions
          </label>
          <label>
            <input type="checkbox" ng-model="searchIn.top" ng-click="changeSelection(1)">Topics
          </label>
          <label>
            <input type="checkbox" ng-model="searchIn.cat" ng-click="changeSelection(1)">Categories
          </label>
        </div>
        <div class="form-group text-center">
          <input class="btn btn-success btn-block" type="submit" value="Hit Me!"></input>
        </div>
        {{patternJson | json}}
      </form>
    </div>
  </div>
</main>
